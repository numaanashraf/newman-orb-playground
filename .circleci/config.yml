version: 2.1
orbs:
  newman:
    executors:
      newman_docker:
        docker:
          - image: postman/newman_alpine33:4.1.0
    commands:
      collection_run:
        parameters:
          url:
            type: string
        steps:
          - run: "newman run --url=<<parameters.url>>"
    jobs:
      collection_run:
        parameters:
          url:
            type: string
        executor: newman_docker
        steps:
          - collection_run:
              url: <<parameters.url>>
workflows:
  newman-test:
    jobs:
      - newman/collection_run:
          name: "sample collection run"
          url: https://www.getpostman.com/collections/1d24d0cd53882ad791f3